<html>
<body>
<style type="text/css">
    * {
        padding: 0;
        margin: 0;
        background-color: #ffffff;
    }
</style>

<video width="" height="" id="video" controls>
    <source src="" type="video/mp4" id="source">
    Error playing video
</video>


<meta http-equiv="X-UA-Compatible" content="IE=10">
</body>
</html>

<script>
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);

    const video = urlParams.get('video');
    console.log("Video passed: " + video);

    const width = urlParams.get('width');
    console.log("Video width: " + width);

    const height = urlParams.get('height');
    console.log("Video height: " + height);

    const controls = urlParams.get('controls');
    console.log("Show controls: " + controls);

    const autoplay = urlParams.get('autoplay');
    console.log("Autoplay: " + autoplay);

    const background = urlParams.get('background');
    console.log("Background Colour: " + "#" + background);

    if (controls == 'true') {
        document.getElementById('video').setAttribute("controls", "controls");
        console.log('Video controls enabled');
    }
    else {
        document.getElementById('video').removeAttribute("controls", "controls");
        console.log('Video controls disabled');
    }

    if (autoplay == 'true') {
        document.getElementById('video').setAttribute("autoplay", "autoplay");
        console.log('Autoplay enabled');
    }
    else {
        document.getElementById('video').removeAttribute("autoplay", "autoplay");
        console.log('Autoplay disabled');
    }

    if (!background) {
        document.body.style.background = "#ffffff";
        console.log('Background wasn\'t specified, defaulting to white')
    }
    else {
        document.body.style.background = "#" + background;
        console.log("Set background as #"+background)
    }

    document.getElementById('source').src = video;
    document.getElementById('video').width = width;
    document.getElementById('video').height = height;
</script>
